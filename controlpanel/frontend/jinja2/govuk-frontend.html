{%- from "skip-link/macro.html" import govukSkipLink -%}
{%- from "footer/macro.html" import govukFooter -%}
{%- from "header/macro.html" import govukHeader with context -%}

<!DOCTYPE html>
<html lang="{{ htmlLang | default('en') }}" class="govuk-template {{ htmlClasses or "" }}">

<head>
  <meta charset="utf-8" />
  <title>
    {%- block page_title -%}
      GOV.UK - The best place to find government services and information
    {%- endblock -%}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="{{ themeColor | default('#0b0c0c') }}" />
  {# Ensure that older IE versions always render with the correct rendering engine #}
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  {% block headIcons %}
  <link rel="shortcut icon" sizes="16x16 32x32 48x48" href="{{ static('govuk-frontend/assets/images/favicon.ico') }}" type="image/x-icon">
  <link rel="mask-icon" href="{{ static('govuk-frontend/assets/images/govuk-mask-icon.svg') }}" color="#0b0c0c">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ static('govuk-frontend/assets/images/govuk-apple-touch-icon-180x180.png') }}">
  <link rel="apple-touch-icon" sizes="167x167" href="{{ static('govuk-frontend/assets/images/govuk-apple-touch-icon-167x167.png') }}">
  <link rel="apple-touch-icon" sizes="152x152" href="{{ static('govuk-frontend/assets/images/govuk-apple-touch-icon-152x152.png') }}">
  <link rel="apple-touch-icon" href="{{ static('govuk-frontend/assets/images/govuk-apple-touch-icon.png') }}">
  {% endblock %}

  {% block head %}{% endblock %}
  {# The default og:image is added below head so that scrapers see any custom metatags first, and this is just a fallback #}
  {# image url needs to be absolute e.g. http://wwww.domain.com/.../govuk-opengraph-image.png #}
  {%- set scheme = "http" %}
  {%- set host = "localhost" %}
  {%- if request %}{% set scheme = request.scheme %}{% endif %}
  {%- if request %}{% set host = request.get_host() %}{% endif %}
  <meta property="og:image" content="{{ scheme }}://{{ host }}{{ static('govuk-frontend/assets/images/govuk-opengraph-image.png') }}">
</head>

<body class="govuk-template__body {{ bodyClasses or "" }}">
  <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>
  {% block bodyStart %}{% endblock %}

  {% block skipLink %}
    {{ govukSkipLink({
      'href': '#main-content',
      'text': 'Skip to main content'
    }) }}
  {% endblock %}

  {% block header %}
    {{ govukHeader({}) }}
  {% endblock %}

  {% block main %}
    <div class="govuk-width-container">
      {% block beforeContent %}{% endblock %}
      <main class="govuk-main-wrapper {{ mainClasses or "" }}" id="main-content" role="main">
        {% block content %}{% endblock %}
      </main>
    </div>
  {% endblock %}

  {% block footer %}
    {{ govukFooter({}) }}
  {% endblock %}

  {% block body_end %}{% endblock %}
</body>
</html>
