{% from "modal-dialog/macro.html" import modal_dialog %}
{% from "includes/yesno.html" import yes_no %}

{% macro dashboard_list(dashboards, user) %}
{%- set num_dashboards = dashboards|length %}
{% if num_dashboards > 0 %}
  <h2 class="govuk-heading-l">Your shared dashboards</h2>

  <table class="govuk-table track_task">
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th class="govuk-table__header">Dashboard name</th>
      <th class="govuk-table__header">
        Description
      </th>
      <th class="govuk-table__header">
        <span class="govuk-visually-hidden">Actions</span>
      </th>
    </tr>
  </thead>
  <tbody class="govuk-table__body">
  {%- for dashboard in dashboards %}
    <tr class="govuk-table__row">
      <td class="govuk-table__cell">
          {{ dashboard.name }}
      </td>
      <td class="govuk-table__cell">
        {{ dashboard.description }}
      </td>
      <td class="govuk-table__cell">
        <a class="govuk-link right"
          href="{{ url('manage-dashboard-sharing', kwargs={ 'pk': dashboard.id }) }}">
          Manage sharing
        </a>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% endif %}

{% endmacro %}
